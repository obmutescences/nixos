@import "theme.css";

/* — 全局重置 & 字体 — */
* {
  margin: 0;
  padding: 0;
  border: none;
  outline: none;
  font-family: "Comic Code";
  font-size: 14px;
  font-weight: 400;
  color: @ef-on-surface;
}

/* — 整体 Bar 容器 — */
window#waybar {
  background-color: @ef-surface;
  border-radius: 7px; /* Material 3 推荐更大的圆角 */
  -webkit-backdrop-filter: blur(20px);
  padding: 2px 8px; /* 增加内边距 */
  border: 1px solid rgba(211, 198, 170, 0.08); /* 微妙边框 */
}

/* — Tooltip — */
tooltip {
  background-color: @ef-surface-container;
  color: @ef-on-surface;
  border-radius: 12px; /* 更大圆角 */
  padding: 8px 12px; /* 增加内边距 */
  font-size: 12px;
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(211, 198, 170, 0.08);
}

/* — Workspaces 区 — */
#workspaces {
  background-color: transparent;
  border-radius: 12px;
  padding: 4px;
  margin: 0 4px;
}

#workspaces button {
  background-color: transparent;
  color: @ef-on-surface-variant;
  padding: 1px 7px; /* 增加按钮大小 */
  margin: 1px;
  border-radius: 8px;
  transition: all 200ms cubic-bezier(0.2, 0, 0, 1); /* Material 3 缓动 */
  min-width: 18px;
}

#workspaces button:hover {
  background-color: @overlay-hover;
  color: @ef-on-surface;
}

#workspaces button.active {
  background-color: @ef-primary;
  color: @ef-on-primary;
  box-shadow: 0 2px 8px rgba(131, 164, 113, 0.3); /* 阴影效果 */
}

#workspaces button.urgent {
  background-color: @ef-tertiary;
  color: @ef-on-primary;
  animation: pulse 1s infinite;
}

/* — Taskbar 区（窗口列表） — */
#taskbar {
  background-color: @ef-surface-container;
  border-radius: 12px;
  padding: 4px;
  margin: 0 4px;
}

#taskbar button {
  background-color: transparent;
  color: @ef-on-surface-variant;
  padding: 8px 12px;
  margin: 2px;
  border-radius: 8px;
  transition: all 200ms cubic-bezier(0.2, 0, 0, 1);
  min-width: 32px;
}

#taskbar button:hover {
  background-color: @overlay-hover;
  color: @ef-on-surface;
}

#taskbar button.active {
  background-color: @ef-secondary;
  color: @ef-on-primary;
  box-shadow: 0 1px 4px rgba(127, 187, 179, 0.3);
}

/* — 其他模块统一样式 — */
#backlight,
#battery,
#bluetooth,
#clock,
#cpu,
#network,
#memory,
#custom-cliphist,
#custom-cpuinfo,
#custom-gpuinfo,
#custom-keybindhint,
#custom-notifications,
#custom-power,
#custom-spotify,
#custom-theme,
#custom-updates,
#custom-wallchange,
#custom-wbar,
#disk,
#window,
#idle_inhibitor,
#language,
#mpris,
#pulseaudio {
  background-color: transparent;
  color: @ef-on-surface;
  padding: 2px 6px; /* 统一增加内边距 */
  margin: 2px 4px;
  border-radius: 0; /* 更大圆角 */
  transition: all 200ms cubic-bezier(0.2, 0, 0, 1);
  border: 0px solid rgba(211, 198, 170, 0.05);
}

/* — 模块 Hover 效果 — */
#backlight:hover,
#battery:hover,
#bluetooth:hover,
#clock:hover,
#cpu:hover,
#network:hover,
#memory:hover,
#custom-cliphist:hover,
#custom-cpuinfo:hover,
#custom-gpuinfo:hover,
#custom-keybindhint:hover,
#custom-notifications:hover,
#custom-power:hover,
#custom-spotify:hover,
#custom-theme:hover,
#custom-updates:hover,
#custom-wallchange:hover,
#custom-wbar:hover,
#disk:hover,
#window:hover,
#idle_inhibitor:hover,
#language:hover,
#mpris:hover,
#pulseaudio:hover {
  background-color: @ef-surface;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

/* — 特殊模块样式 — */
#clock {
  font-weight: 500;
  color: @ef-primary;
}

#cpu {
  min-width: 50px; /* 设置最小宽度，根据需要调整 */
}

#battery.warning {
  color: @ef-tertiary;
}

#battery.critical {
  color: #e67e80; /* Everforest 红色 */
  animation: pulse 1s infinite;
}

/* — 空窗口时隐藏背景 — */
window#waybar.empty #window {
  background-color: transparent;
  border: none;
}

/* — Tray 菜单 — */
#tray {
  background-color: transparent;
  border-radius: 12px;
  padding: 4px;
  margin: 0 4px;
}

#tray menu {
  background-color: @ef-surface;
  border-radius: 12px;
  padding: 8px;
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(211, 198, 170, 0.08);
}

#tray menu * {
  padding: 2px 6px;
  border-radius: 8px;
  transition: all 200ms cubic-bezier(0.2, 0, 0, 1);
}

#tray menu *:hover {
  background-color: @overlay-hover;
}

#tray menu separator {
  border-top: 1px solid rgba(211, 198, 170, 0.12);
  margin: 3px 0;
}
